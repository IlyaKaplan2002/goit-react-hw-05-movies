"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[190],{8685:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var r="title_title__i5H8-",i=n(184),a=function(e){var t=e.title;return(0,i.jsx)("h2",{className:r,children:t})}},7144:function(e,t,n){n.d(t,{Gc:function(){return l},TP:function(){return u},Wf:function(){return s},jr:function(){return m},Hg:function(){return o}});var r=n(4569),i="b0de889e3f741ea781569353e4581a9b",a=function(e){return e.data.results.map((function(e){return{title:e.title,id:e.id}}))},c=n.n(r)().create({baseURL:"https://api.themoviedb.org/3"}),o=function(){return c.get("/trending/movie/week?api_key=".concat(i,"&limit=20")).then(a)},s=function(e){return c.get("/search/movie?api_key=".concat(i,"&limit=20&query=").concat(e)).then(a)},u=function(e){return c.get("/movie/".concat(e,"?api_key=").concat(i)).then((function(e){return e.data})).then((function(e){return{title:e.title,poster_path:e.poster_path,vote_average:e.vote_average,overview:e.overview,genres:e.genres}}))},l=function(e){return c.get("/movie/".concat(e,"/credits?api_key=").concat(i)).then((function(e){return e.data.cast.map((function(e){return{id:e.id,profile_path:e.profile_path,original_name:e.original_name,character:e.character}}))}))},m=function(e){return c.get("movie/".concat(e,"/reviews?api_key=").concat(i)).then((function(e){return e.data.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))}))}},609:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(8152),i=n(8730),a=n(2791),c=n(6871),o=n(7144),s=n(8685),u="movieDetails_section__k7aWg",l="movieDetails_image__1ZLT0",m="movieDetails_desc__X-Ckh",h="movieDetails_genresList__0q4Ug",v="movieDetails_genresItem__6Bp8W",f=n(184),p=function(e){var t=e.movie,n=t.title,r=t.poster_path,i=t.vote_average,a=t.overview,c=t.genres;return(0,f.jsxs)("section",{className:u,children:[(0,f.jsx)("img",{className:l,src:"https://image.tmdb.org/t/p/w500".concat(r),alt:"poster"}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)(s.Z,{title:n}),(0,f.jsxs)("p",{children:["User score: ",i]}),(0,f.jsx)("h3",{children:"Overview"}),(0,f.jsx)("p",{children:a}),(0,f.jsx)("h3",{children:"Genres"}),(0,f.jsx)("ul",{className:h,children:c.map((function(e){var t=e.id,n=e.name;return(0,f.jsx)("li",{className:v,children:n},t)}))})]})]})},_=n(6207),d=[{path:"cast",name:"Cast",component:(0,a.lazy)((function(){return n.e(661).then(n.bind(n,3804))}))},{path:"reviews",name:"Reviews",component:(0,a.lazy)((function(){return n.e(145).then(n.bind(n,2403))}))}],g=function(){var e=(0,c.UO)().movieId;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.Z,{routes:d.map((function(t){var n=t.path,r=t.name;return{path:"/movies/".concat(e,"/").concat(n),name:r}}))}),(0,f.jsx)(c.Z5,{children:d.map((function(e){var t=e.path,n=e.component;return(0,f.jsx)(c.AW,{path:t,element:(0,f.jsx)(n,{})},t)}))})]})},j=function(){var e=(0,c.UO)().movieId,t=(0,a.useState)(null),n=(0,r.Z)(t,2),s=n[0],u=n[1];return(0,a.useEffect)((function(){var t=!1;return(0,o.TP)(e).then((function(e){return!t&&u(e)})).catch((function(){return i.Notify.failure("Something went wrong!")})),function(){t=!0}}),[e]),(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsx)(p,{movie:s}),(0,f.jsx)(g,{movieId:e})]})}}}]);
//# sourceMappingURL=MovieDetailsView.8425ec6b.chunk.js.map